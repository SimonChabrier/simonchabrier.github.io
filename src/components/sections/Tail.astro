---
/**
 * Tail Section Component
 *
 * Section footer avec lien GitHub et dialog des mentions légales.
 * Utilise le système i18n custom pour toutes les traductions.
 *
 * @component
 */

import { t } from "@/utils/i18n";
import Dialog from "@/components/Dialog.astro";
import type { Profiles } from "@cvType";

const { locale, name, profiles, mentions } = Astro.props;

const gitHub = (profiles as Profiles[]).find(
  ({ network }) => network === "GitHub",
);
const gitHubUrl = gitHub?.url;

// Récupérer le texte traduit avec interpolation
const showProfileText = t("sections:tail.showProfile", {
  lng: locale,
  network: gitHub?.network,
  name: name,
});

const currentYear = new Date().getFullYear();
---

<div
  class="flex w-full max-w-7xl justify-center gap-3 md:col-span-6 print:hidden"
>
  <a
    href={gitHubUrl}
    rel="noopener noreferrer"
    aria-label={showProfileText}
    title={showProfileText}
    target="_blank"
    class="group flex items-center space-x-1 text-xs"
  >
    <span
      class="flex gap-1 text-skin-base underline decoration-dotted underline-offset-4 transition hover:text-skin-contact group-hover:underline-offset-4"
    >
      2021 - {currentYear} © SC
    </span>
  </a>
  <Dialog mentions={mentions} locale={locale} />
  <a
    href="https://doc.simonchabrier.fr/"
    rel="noopener noreferrer"
    aria-label="lien vers la documentation"
    title="lien vers la documentation"
    target="_blank"
    class="group flex items-center space-x-1 text-xs"
  >
    <span
      class="flex gap-1 text-skin-base underline decoration-dotted underline-offset-4 transition hover:text-skin-contact group-hover:underline-offset-4"
    >
      Documentation
    </span>
  </a>
</div>
